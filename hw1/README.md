# ДЗ 1

## Условие
Реализовать простое веб приложение, у которого обрабатывает запросы на два endpoint’а :  
- GET /time - этот endpoint должен отдавать текущее время
- GET /statistics - этот endpoint должен отдавать количество обращений к endpoint’у /time в виде одного числа. 

Соответственно, ваше приложение должно хранить информацию о каждом обращении и отдавать эту информацию по запросу. 
Далее необходимо реализовать скрипт, который будет обращаться к endpoint’у GET /statistics и записывать полученный результат в файл. Этот скрипт должен будет вызываться раз в 5 секунд.

Все перечисленное выше должно запускаться в Kubernetes. Для этого вам необходимо: 
контейнеризировать ваше приложение и скрипт(docker образы)
написать манифесты конфигураций для этих двух образов
bash скрипт для сборки образов и запуска всего внутри Kubernetes

В readme проекта опишите куда надо сделать запрос, чтобы получить результат

## Описание решения
Для воспроизведения:
```bash
minikube start && ./init.sh
```
Я сделал простой сервер на fastapi.

Обернул его в pod и добавил сервис что бы можно было к нему обращаться. Если есть желание кидалть запросы с локальной машины то можно сделать bridge командой:
```bash
minikube service server-app-service
```

Клиент приложение это скрипт который обращается к /statistics endpoint'у. И пишет в файл result_{дата+время}.txt. Обернут в cronjob и запускается каждую минуту(что бы было удобнее проверять)

Что бы посмотреть что в нем записано можно зайти на кластер:
```bash
minikube ssh
```
и перейти в папку /persistent_volume/data:
```bash
cd /persistent_volume/data
```

